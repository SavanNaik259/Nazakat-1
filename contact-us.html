
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <title>Contact Us - Nazakat</title>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.4.0/css/all.min.css" integrity="sha384-iw3OoTErCYJJB9mCa8LNS2hbsQ7M3C0EpLGCJKypKP/lX+/Pvw2DNA" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css?v=1.0.4">
    <link rel="stylesheet" href="css/responsive.css?v=1.0.4">
    <link rel="stylesheet" href="css/navbar.css?v=1.1.3">
    <link rel="stylesheet" href="css/cart.css?v=1.0.2">
    <link rel="stylesheet" href="css/shop.css?v=1.0.2">
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-firestore-compat.js"></script>

    <script>
      // Firebase configuration
      const firebaseConfig = {
        apiKey: "AIzaSyCrLCButDevLeILcBjrUCd9e7amXVjW-uI",
        authDomain: "auric-a0c92.firebaseapp.com",
        projectId: "auric-a0c92",
        storageBucket: "auric-a0c92.appspot.com",
        messagingSenderId: "878979958342",
        appId: "1:878979958342:web:e6092f7522488d21eaec47",
        measurementId: "G-ZYZ750JHMB"
      };

      firebase.initializeApp(firebaseConfig);
      firebase.auth().setPersistence(firebase.auth.Auth.Persistence.LOCAL)
        .catch(error => {
          console.error("Auth persistence error:", error);
        });
    </script>

    <style>
        /* Hide mobile menu close button on large devices */
        @media (min-width: 769px) {
            #closeMenu {
                display: none !important;
            }
        }

        /* Contact Page Styles */
        .contact-hero {
            background: linear-gradient(135deg, #f9f5f0 0%, #ede5d8 100%);
            padding: 120px 0 80px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .contact-hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23d4af37' fill-opacity='0.05'%3E%3Ccircle cx='30' cy='30' r='4'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
            opacity: 0.3;
        }

        .contact-hero-content {
            position: relative;
            z-index: 2;
        }

        .contact-hero h1 {
            font-family: 'Playfair Display', serif;
            font-size: 52px;
            color: #5E2900;
            margin-bottom: 20px;
            font-weight: 700;
            position: relative;
        }

        .contact-hero h1::after {
            content: '';
            position: absolute;
            bottom: -15px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 3px;
            background: linear-gradient(90deg, #d4af37, #b8941f);
            border-radius: 2px;
        }

        .contact-hero p {
            font-family: 'Poppins', sans-serif;
            max-width: 700px;
            margin: 30px auto 0;
            font-size: 18px;
            color: #8a8a8a;
            line-height: 1.7;
        }

        .contact-section {
            padding: 100px 0;
            background-color: #fff;
        }

        .contact-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 80px;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .contact-info {
            background: linear-gradient(135deg, #f9f5f0 0%, #ede5d8 100%);
            padding: 60px 40px;
            border-radius: 12px;
            position: relative;
            overflow: hidden;
        }

        .contact-info::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #d4af37, #b8941f);
        }

        .contact-info h2 {
            font-family: 'Playfair Display', serif;
            font-size: 36px;
            color: #5E2900;
            margin-bottom: 30px;
        }

        .contact-info p {
            font-family: 'Poppins', sans-serif;
            font-size: 16px;
            line-height: 1.7;
            color: #666;
            margin-bottom: 40px;
        }

        .contact-details {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .contact-details li {
            display: flex;
            align-items: center;
            margin-bottom: 25px;
            font-family: 'Poppins', sans-serif;
        }

        .contact-details i {
            font-size: 20px;
            color: #d4af37;
            width: 30px;
            margin-right: 20px;
        }

        .contact-details span {
            font-size: 16px;
            color: #444;
        }

        .contact-details a {
            color: #444;
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .contact-details a:hover {
            color: #d4af37;
        }

        .social-links {
            margin-top: 40px;
            padding-top: 30px;
            border-top: 1px solid rgba(212, 175, 55, 0.2);
        }

        .social-links h3 {
            font-family: 'Playfair Display', serif;
            font-size: 24px;
            color: #5E2900;
            margin-bottom: 20px;
        }

        .social-icons {
            display: flex;
            gap: 15px;
        }

        .social-icons a {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 45px;
            height: 45px;
            background-color: #d4af37;
            color: #fff;
            border-radius: 50%;
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .social-icons a:hover {
            background-color: #b8941f;
            transform: translateY(-3px);
        }

        .contact-form {
            background-color: #fff;
            padding: 0;
        }

        .form-container {
            background-color: #fff;
            border-radius: 12px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
            padding: 50px 40px;
            position: relative;
            overflow: hidden;
        }

        .form-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #d4af37, #b8941f);
        }

        .form-container h2 {
            font-family: 'Playfair Display', serif;
            font-size: 36px;
            color: #5E2900;
            margin-bottom: 30px;
            text-align: center;
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-group label {
            display: block;
            font-family: 'Poppins', sans-serif;
            font-size: 14px;
            font-weight: 500;
            color: #444;
            margin-bottom: 8px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 15px 20px;
            border: 2px solid #e8e8e8;
            border-radius: 8px;
            font-family: 'Poppins', sans-serif;
            font-size: 16px;
            color: #444;
            transition: all 0.3s ease;
            background-color: #fafafa;
        }

        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: #d4af37;
            background-color: #fff;
            box-shadow: 0 0 0 3px rgba(212, 175, 55, 0.1);
        }

        .form-group textarea {
            resize: vertical;
            min-height: 120px;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .submit-btn {
            width: 100%;
            padding: 18px 30px;
            background: linear-gradient(135deg, #d4af37 0%, #b8941f 100%);
            color: #fff;
            border: none;
            border-radius: 8px;
            font-family: 'Poppins', sans-serif;
            font-size: 16px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 20px;
        }

        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(212, 175, 55, 0.3);
        }

        .submit-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .success-message,
        .error-message {
            padding: 15px 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            font-family: 'Poppins', sans-serif;
            font-weight: 500;
            display: none;
        }

        .success-message {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .error-message {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .working-hours {
            background-color: #5E2900;
            color: #fff;
            padding: 60px 0;
            text-align: center;
        }

        .working-hours h2 {
            font-family: 'Playfair Display', serif;
            font-size: 36px;
            color: #d4af37;
            margin-bottom: 30px;
        }

        .hours-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            max-width: 800px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .hours-item {
            background-color: rgba(255, 255, 255, 0.1);
            padding: 30px 20px;
            border-radius: 8px;
            border: 1px solid rgba(212, 175, 55, 0.3);
        }

        .hours-item h3 {
            font-family: 'Poppins', sans-serif;
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 10px;
            color: #d4af37;
        }

        .hours-item p {
            font-family: 'Poppins', sans-serif;
            font-size: 16px;
            margin: 0;
        }

        @media (max-width: 991px) {
            .contact-container {
                grid-template-columns: 1fr;
                gap: 50px;
            }

            .form-row {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 767px) {
            .contact-hero {
                padding: 80px 0 60px;
            }

            .contact-hero h1 {
                font-size: 36px;
            }

            .contact-info,
            .form-container {
                padding: 40px 30px;
            }

            .contact-info h2,
            .form-container h2 {
                font-size: 28px;
            }
        }

        .loading-spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 2px solid #ffffff;
            border-radius: 50%;
            border-top-color: transparent;
            animation: spin 1s ease-in-out infinite;
            margin-right: 10px;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }
    </style>
</head>
<body>

    <!-- Header -->
    <header class="header">
        <!-- Promo Banner -->
        <div class="promo-banner">
            <button class="banner-arrow banner-prev">
                <i class="fas fa-chevron-left"></i>
            </button>
            <p>Save 21% on exclusive selections - <a href="#">Shop Now</a></p>
            <button class="banner-arrow banner-next">
                <i class="fas fa-chevron-right"></i>
            </button>
        </div>

        <!-- Navigation -->
        <nav class="navbar">
            <div class="nav-container">
                <!-- Logo -->
                <a href="index.html" class="brand">Nazakat</a>

                <!-- Mobile Toggle Button -->
                <div class="hamburger" id="navToggle">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>

                <!-- Navigation Links -->
                <div class="nav-menu" id="navMenu">
                    <!-- Close button for mobile menu in the top right corner -->
                    <button class="close-menu" id="closeMenu">Ã—</button>

                    <ul class="nav-list">
                        <li class="nav-item"><a href="new-arrivals.html" class="nav-link">New Arrivals</a></li>
                        <li class="nav-item dropdown">
                            <a href="#" class="nav-link dropdown-toggle">Collections <i class="fas fa-chevron-down"></i></a>
                            <ul class="dropdown-menu">
                                <li><a href="shop.html">All Collection</a></li>
                                <li><a href="featured-collection.html">Featured Collection</a></li>
                                <li><a href="saree-collection.html">Saree Collection</a></li>
                            </ul>
                        </li>
                        <li class="nav-item"><a href="about-us.html" class="nav-link">About</a></li>
                        <li class="nav-item"><a href="index.html#customer-reviews" class="nav-link">Testimonials</a></li>
                        <li class="nav-item"><a href="order-track.html" class="nav-link">Order Track</a></li>
                        <li class="nav-item"><a href="contact-us.html" class="nav-link active">Contact</a></li>
                    </ul>

                    <!-- Mobile account links in separate div after Contact -->
                    <div class="mobile-account-links mobile-special">
                        <a href="login.html" class="mobile-account-link">
                            <i class="fas fa-user"></i> Account
                        </a>
                        <a href="#" class="mobile-account-link wishlist-toggle">
                            <i class="fas fa-heart"></i> Wishlist (<span class="mobile-wishlist-count">0</span>)
                        </a>
                        <a href="#" class="mobile-account-link mobile-cart-toggle">
                            <i class="fas fa-shopping-bag"></i> Shopping Bag (<span class="mobile-cart-count">0</span>)
                        </a>
                    </div>
                </div>

                <!-- Navigation Icons -->
                <div class="nav-icons">
                    <a href="#" class="icon-link"><i class="fa-solid fa-magnifying-glass"></i></a>
                    <a href="login.html" class="icon-link" id="user-icon"><i class="fa-solid fa-user"></i></a>
                    <a href="#" class="icon-link wishlist-icon-container">
                        <i class="fa-solid fa-heart"></i>
                        <div class="wishlist-count">0</div>
                    </a>
                    <a href="#" class="icon-link cart-icon-container cart-toggle" id="cartToggleButton">
                        <i class="fa-solid fa-bag-shopping"></i>
                        <div class="cart-count">0</div>
                    </a>
                </div>
            </div>
        </nav>
    </header>

    <!-- Overlay for menu background -->
    <div class="menu-overlay" id="menuOverlay"></div>

    <!-- Contact Hero Section -->
    <section class="contact-hero">
        <div class="container">
            <div class="contact-hero-content">
                <h1>Contact Us</h1>
                <p>We'd love to hear from you. Send us a message and we'll respond as soon as possible.</p>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section class="contact-section">
        <div class="contact-container">
            <!-- Contact Information -->
            <div class="contact-info">
                <h2>Get in Touch</h2>
                <p>Have questions about our collections, need styling advice, or want to know more about our handloom artistry? We're here to help you discover the perfect piece that celebrates your unique style.</p>
                
                <ul class="contact-details">
                    <li>
                        <i class="fas fa-map-marker-alt"></i>
                        <span>Delhi, India</span>
                    </li>
                    <li>
                        <i class="fas fa-phone"></i>
                        <a href="tel:+919310250047">+91 93102 50047</a>
                    </li>
                    <li>
                        <i class="fas fa-envelope"></i>
                        <a href="mailto:info@nazakat.com">info@nazakat.com</a>
                    </li>
                    <li>
                        <i class="fas fa-whatsapp"></i>
                        <a href="https://wa.me/919310250047" target="_blank">WhatsApp Support</a>
                    </li>
                </ul>

                <div class="social-links">
                    <h3>Follow Us</h3>
                    <div class="social-icons">
                        <a href="#" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                        <a href="#" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
                        <a href="#" aria-label="Pinterest"><i class="fab fa-pinterest"></i></a>
                        <a href="#" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
                    </div>
                </div>
            </div>

            <!-- Contact Form -->
            <div class="contact-form">
                <div class="form-container">
                    <h2>Send us a Message</h2>
                    
                    <div class="success-message" id="successMessage">
                        <i class="fas fa-check-circle"></i> Thank you! Your message has been sent successfully. We'll get back to you soon.
                    </div>
                    
                    <div class="error-message" id="errorMessage">
                        <i class="fas fa-exclamation-circle"></i> Sorry, there was an error sending your message. Please try again.
                    </div>

                    <form id="contactForm">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="firstName">First Name *</label>
                                <input type="text" id="firstName" name="firstName" required>
                            </div>
                            <div class="form-group">
                                <label for="lastName">Last Name *</label>
                                <input type="text" id="lastName" name="lastName" required>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="email">Email Address *</label>
                                <input type="email" id="email" name="email" required>
                            </div>
                            <div class="form-group">
                                <label for="phone">Phone Number</label>
                                <input type="tel" id="phone" name="phone">
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="subject">Subject *</label>
                            <select id="subject" name="subject" required>
                                <option value="">Select a subject</option>
                                <option value="general">General Inquiry</option>
                                <option value="products">Product Information</option>
                                <option value="orders">Order Status</option>
                                <option value="wholesale">Wholesale Inquiry</option>
                                <option value="custom">Custom Design Request</option>
                                <option value="returns">Returns & Exchanges</option>
                                <option value="feedback">Feedback</option>
                                <option value="other">Other</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="message">Message *</label>
                            <textarea id="message" name="message" placeholder="Tell us how we can help you..." required></textarea>
                        </div>

                        <button type="submit" class="submit-btn" id="submitBtn">
                            <span class="btn-text">Send Message</span>
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <!-- Working Hours Section -->
    <section class="working-hours">
        <div class="container">
            <h2>Business Hours</h2>
            <div class="hours-grid">
                <div class="hours-item">
                    <h3>Customer Support</h3>
                    <p>Monday - Saturday<br>10:00 AM - 7:00 PM IST</p>
                </div>
                <div class="hours-item">
                    <h3>WhatsApp Support</h3>
                    <p>Available 24/7<br>Quick Response Guaranteed</p>
                </div>
                <div class="hours-item">
                    <h3>Email Response</h3>
                    <p>Within 24 Hours<br>Detailed Assistance</p>
                </div>
            </div>
        </div>
    </section>

    <!-- WhatsApp Button -->
    <a href="https://wa.me/919310250047?text=Hi! I would like to know more about your services. Can you help me?" class="whatsapp-btn">
        <i class="fab fa-whatsapp"></i>
    </a>

    <!-- Footer Section -->
    <footer class="footer-modern">
        <div class="footer-top">
            <div class="container">
                <div class="footer-logo">
                    <h2>Nazakat</h2>
                    <p>Timeless Elegance, Modern Design</p>
                </div>

                <div class="footer-newsletter-container">
                    <h3>Subscribe For Updates</h3>
                    <div class="newsletter-box">
                        <form class="modern-newsletter-form">
                            <input type="email" placeholder="Your email address">
                            <button type="submit">Subscribe</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <div class="footer-main">
            <div class="container">
                <div class="footer-widgets">
                    <div class="footer-widget contact-widget">
                        <h4>Contact</h4>
                        <p><i class="fas fa-map-marker-alt"></i> Delhi, India</p>
                        <p><i class="fas fa-phone"></i> +91 93102 50047</p>
                        <p><i class="fas fa-envelope"></i> info@nazakat.com</p>

                        <div class="social-icons">
                            <a href="#"><i class="fab fa-facebook-f"></i></a>
                            <a href="#"><i class="fab fa-instagram"></i></a>
                            <a href="#"><i class="fab fa-twitter"></i></a>
                            <a href="#"><i class="fab fa-pinterest"></i></a>
                            <a href="#"><i class="fab fa-youtube"></i></a>
                        </div>
                    </div>
                    <div class="footer-widget">
                        <h4>Shop</h4>
                        <ul>
                            <li><a href="#">Sarees</a></li>
                            <li><a href="#">Suits</a></li>
                            <li><a href="#">Lehengas</a></li>
                            <li><a href="#">Dupattas</a></li>
                            <li><a href="#">Accessories</a></li>
                            <li><a href="#">New Arrivals</a></li>
                        </ul>
                    </div>

                    <div class="footer-widget">
                        <h4>Customer Care</h4>
                        <ul>
                            <li><a href="#">My Account</a></li>
                            <li><a href="#">Track Order</a></li>
                            <li><a href="#">Shipping Policy</a></li>
                            <li><a href="#">Returns & Exchanges</a></li>
                            <li><a href="#">FAQs</a></li>
                        </ul>
                    </div>

                    <div class="footer-widget">
                        <h4>About Us</h4>
                        <ul>
                            <li><a href="about-us.html">Our Story</a></li>
                            <li><a href="contact-us.html">Contact Us</a></li>
                            <li><a href="#">Testimonials</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <div class="footer-bottom">
            <div class="container">
                <div class="footer-info">
                    <div class="copyright">
                        <p>&copy; 2025 Nazakat. All rights reserved. | Developed by <a href="https://savannaik.netlify.app/" target="_blank" style="color: #9c7c38; text-decoration: none; font-weight: 500;">Savan Naik</a></p>
                    </div>

                    <div class="footer-links">
                        <a href="terms-conditions.html">Terms and Conditions</a>
                        <a href="privacy-policy.html">Privacy Policy</a>
                    </div>

                    <div class="payment-methods">
                        <span><i class="fab fa-cc-amex"></i></span>
                        <span><i class="fab fa-cc-discover"></i></span>
                        <span><i class="fab fa-google-pay"></i></span>
                        <span><i class="fab fa-cc-mastercard"></i></span>
                        <span><i class="fab fa-cc-paypal"></i></span>
                        <span class="union-pay">UP</span>
                        <span><i class="fab fa-cc-visa"></i></span>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- Core JS Files -->
    <script src="js/navigation.js?v=1.0.4"></script>
    <script src="js/banner-rotator.js?v=1.0.1"></script>
    <script src="js/error-handler.js"></script>
    <script src="js/firebase/firebase-auth.js"></script>
    <script src="js/cart-local-storage.js?v=1.0.0"></script>
    <script src="js/firebase/firebase-cart-manager.js?v=1.0.0"></script>
    <script src="js/cart-manager.js?v=1.0.1"></script>
    <script src="js/wishlist-local-storage.js?v=1.0.0"></script>
    <script src="js/firebase/firebase-wishlist-manager.js?v=1.0.0"></script>
    <script src="js/wishlist-manager.js?v=1.0.0"></script>
    <script src="js/main.js"></script>

    <!-- Contact Form Script -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const contactForm = document.getElementById('contactForm');
            const submitBtn = document.getElementById('submitBtn');
            const successMessage = document.getElementById('successMessage');
            const errorMessage = document.getElementById('errorMessage');

            contactForm.addEventListener('submit', async function(e) {
                e.preventDefault();
                
                // Hide previous messages
                successMessage.style.display = 'none';
                errorMessage.style.display = 'none';
                
                // Show loading state
                submitBtn.disabled = true;
                submitBtn.innerHTML = '<span class="loading-spinner"></span>Sending...';
                
                try {
                    // Gather form data
                    const formData = {
                        firstName: document.getElementById('firstName').value,
                        lastName: document.getElementById('lastName').value,
                        email: document.getElementById('email').value,
                        phone: document.getElementById('phone').value,
                        subject: document.getElementById('subject').value,
                        message: document.getElementById('message').value,
                        timestamp: new Date().toISOString()
                    };

                    // Send to Netlify function
                    const response = await fetch('/api/send-contact-email', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify(formData)
                    });

                    const result = await response.json();

                    if (response.ok && result.success) {
                        // Show success message
                        successMessage.style.display = 'block';
                        contactForm.reset();
                        
                        // Scroll to success message
                        successMessage.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    } else {
                        throw new Error(result.message || 'Failed to send message');
                    }
                } catch (error) {
                    console.error('Error sending contact form:', error);
                    errorMessage.style.display = 'block';
                    errorMessage.scrollIntoView({ behavior: 'smooth', block: 'center' });
                } finally {
                    // Reset button state
                    submitBtn.disabled = false;
                    submitBtn.innerHTML = '<span class="btn-text">Send Message</span>';
                }
            });

            // Firebase Authentication Check
            const FirebaseAuth = window.FirebaseAuth;

            function handleAuthentication() {
                const FirebaseAuth = window.FirebaseAuth;

                if (!FirebaseAuth) {
                    console.warn('FirebaseAuth module not yet available, retrying...');
                    setTimeout(handleAuthentication, 100);
                    return;
                }

                const userIcon = document.getElementById('user-icon');

                if (userIcon) {
                    try {
                        const currentUser = firebase.auth().currentUser;

                        if (currentUser) {
                            console.log("Firebase user is logged in:", currentUser.uid);
                            userIcon.href = "profile.html";
                            userIcon.classList.add('logged-in');
                        } else {
                            if (FirebaseAuth.isLoggedIn()) {
                                console.log("User is logged in from session");
                                userIcon.href = "profile.html";
                                userIcon.classList.add('logged-in');
                            } else {
                                console.log("No user session found");
                                userIcon.href = "login.html";
                                userIcon.classList.remove('logged-in');
                            }
                        }
                    } catch (error) {
                        console.error('Error checking authentication state:', error);
                        userIcon.href = "login.html";
                        userIcon.classList.remove('logged-in');
                    }
                }
            }

            handleAuthentication();

            FirebaseAuth.observeAuthState((user) => {
                const userIcon = document.getElementById('user-icon');

                if (userIcon) {
                    if (user) {
                        console.log("Auth state: User is signed in:", user.uid);

                        FirebaseAuth.saveSession({
                            uid: user.uid,
                            email: user.email,
                            displayName: user.displayName || 'User',
                            photoURL: user.photoURL,
                            loggedIn: true
                        });

                        userIcon.href = "profile.html";
                        userIcon.classList.add('logged-in');
                    } else {
                        console.log("Auth state: User is signed out");
                        FirebaseAuth.clearSession();
                        userIcon.href = "login.html";
                        userIcon.classList.remove('logged-in');
                    }
                }
            });
        });
    </script>
</body>
</html>
